(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{153:function(module,exports,__webpack_require__){__webpack_require__(154),__webpack_require__(240),module.exports=__webpack_require__(241)},19:function(module,__webpack_exports__,__webpack_require__){"use strict";var extendStatics,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(30),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),ReactCountDown=function(_super){function ReactCountDown(props){var _this=_super.call(this,props)||this;_this.useTime=0,_this.componentDidMount=function(){_this.setTime()},_this.componentWillUnmount=function(){clearTimeout(_this.timer)},_this.setTime=function(){_this.timer=setTimeout(function(){var time=_this.state.time-1;if(0===time)return _this.setState({time:time}),_this.props.onEnd&&_this.props.onEnd(),clearTimeout(_this.timer);var remainingTimePoints=_this.props.remainingTimePoints;remainingTimePoints&&remainingTimePoints.forEach(function(timePoint){timePoint.point===time&&timePoint.callback&&timePoint.callback()}),_this.remainTime=time,_this.useTime=_this.totalTime-_this.remainTime,_this.setState({time:time}),_this.setTime()},1e3)};var time=props.time;return _this.totalTime=time,_this.remainTime=time,_this.state={time:time},_this}return __extends(ReactCountDown,_super),ReactCountDown.prototype.render=function(){var time=this.state.time,m=Math.floor(time/60),s=time%60;return m=m<10?"0"+m:m+"",s=s<10?"0"+s:s+"",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,m),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,":"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,s))},ReactCountDown.propTypes={time:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,onEnd:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,remainingTimePoints:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({point:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,callback:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func})},ReactCountDown.defaultTypes={},ReactCountDown}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);__webpack_exports__.a=ReactCountDown;try{ReactCountDown.displayName="ReactCountDown",ReactCountDown.__docgenInfo={description:"倒计时组件",displayName:"ReactCountDown",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/ReactCountDown.tsx#ReactCountDown"]={docgenInfo:ReactCountDown.__docgenInfo,name:"ReactCountDown",path:"components/ReactCountDown.tsx#ReactCountDown"})}catch(__react_docgen_typescript_loader_error){}},241:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(42),__webpack_require__(43),__webpack_require__(40),__webpack_require__(55);var _storybook_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(62),req=__webpack_require__(315);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_4__.configure)(function loadStories(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(112)(module))},315:function(module,exports,__webpack_require__){var map={"./stories/ReactCountDown.stories.js":316};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=315},316:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"withStorySource",function(){return withStorySource}),__webpack_require__.d(__webpack_exports__,"__STORY__",function(){return __STORY__}),__webpack_require__.d(__webpack_exports__,"__ADDS_MAP__",function(){return __ADDS_MAP__});__webpack_require__(41),__webpack_require__(33),__webpack_require__(4),__webpack_require__(144),__webpack_require__(145);var react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_storybook_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(62),_docs_md__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(45),_docs_md__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_docs_md__WEBPACK_IMPORTED_MODULE_7__),_ReactCountDown__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(19);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var withStorySource=__webpack_require__(317).withStorySource,__STORY__="import React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport docs from './docs.md';\n\nimport ReactCountDown from '../ReactCountDown';\n\nclass ReactCountDownDemo extends React.Component {\n  render() {\n    const { time, onEnd, remainingTimePoints } = this.props;\n    return (\n      <div>\n        {time && <ReactCountDown time={10} />}\n        {onEnd && <ReactCountDown time={10} onEnd={alert('倒计时结束')} />}\n        {remainingTimePoints && (\n          <ReactCountDown\n            time={10}\n            remainingTimePoints={[\n              {\n                point: 5,\n                callback: () => console.log('距离结束还有 5 秒钟'),\n              },\n            ]}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nconst Time = () => {\n  return <ReactCountDown time={10} />;\n};\n\nconst OnEnd = () => {\n  return <ReactCountDown time={5} onEnd={() => alert('倒计时结束')} />;\n};\n\nconst RemainingTimePoints = () => {\n  return (\n    <ReactCountDown\n      time={5}\n      remainingTimePoints={[\n        {\n          point: 2,\n          callback: () => console.log('距离结束还有 2 秒钟'),\n        },\n      ]}\n    />\n  );\n};\n\nclass InstanceProp extends React.Component {\n  getCountDownRef = node => {\n    this.countDownRef = node;\n  };\n\n  getUseTime = () => {\n    alert(this.countDownRef.useTime);\n  };\n\n  getTotalTime = () => {\n    alert(this.countDownRef.totalTime);\n  };\n\n  getRemainTime = () => {\n    alert(this.countDownRef.remainTime);\n  };\n\n  render() {\n    return (\n      <div>\n        <ReactCountDown time={10 * 60} ref={this.getCountDownRef} />\n        <button onClick={this.getUseTime}>查看用时（单位：秒）</button>\n        <br />\n        <button onClick={this.getTotalTime}>查看总时间（单位：秒）</button>\n        <br />\n        <button onClick={this.getRemainTime}>查看剩余时间（单位：秒）</button>\n        <br />\n      </div>\n    );\n  }\n}\n\nstoriesOf('ReactCountDown 倒计时', module)\n  .add('time', () => <Time />, {\n    notes: {\n      markdown: docs,\n    },\n  })\n  .add('onEnd', () => <OnEnd />, {\n    notes: {\n      markdown: docs,\n    },\n  })\n  .add('remainingTimePoints', () => <RemainingTimePoints />, {\n    notes: {\n      markdown: docs,\n    },\n  })\n  .add('实例属性', () => <InstanceProp />, {\n    notes: {\n      markdown: docs,\n    },\n  });\n",__ADDS_MAP__={"reactcountdown-倒计时--实例属性":{startLoc:{col:7,line:100},endLoc:{col:3,line:104}},"reactcountdown-倒计时--remainingtimepoints":{startLoc:{col:7,line:95},endLoc:{col:3,line:99}},"reactcountdown-倒计时--onend":{startLoc:{col:7,line:90},endLoc:{col:3,line:94}},"reactcountdown-倒计时--time":{startLoc:{col:7,line:85},endLoc:{col:3,line:89}}},_ref=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_ReactCountDown__WEBPACK_IMPORTED_MODULE_8__.a,{time:10});(function(_React$Component){function ReactCountDownDemo(){return _classCallCheck(this,ReactCountDownDemo),_possibleConstructorReturn(this,_getPrototypeOf(ReactCountDownDemo).apply(this,arguments))}return _inherits(ReactCountDownDemo,react__WEBPACK_IMPORTED_MODULE_5___default.a.Component),_createClass(ReactCountDownDemo,[{key:"render",value:function render(){var _this$props=this.props,time=_this$props.time,onEnd=_this$props.onEnd,remainingTimePoints=_this$props.remainingTimePoints;return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",null,time&&_ref,onEnd&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_ReactCountDown__WEBPACK_IMPORTED_MODULE_8__.a,{time:10,onEnd:alert("倒计时结束")}),remainingTimePoints&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_ReactCountDown__WEBPACK_IMPORTED_MODULE_8__.a,{time:10,remainingTimePoints:[{point:5,callback:function callback(){return console.log("距离结束还有 5 秒钟")}}]}))}}]),ReactCountDownDemo}()).displayName="ReactCountDownDemo";var _ref2=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_ReactCountDown__WEBPACK_IMPORTED_MODULE_8__.a,{time:10}),Time=function(){return _ref2};Time.displayName="Time";var OnEnd=function(){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_ReactCountDown__WEBPACK_IMPORTED_MODULE_8__.a,{time:5,onEnd:function onEnd(){return alert("倒计时结束")}})};OnEnd.displayName="OnEnd";var RemainingTimePoints=function(){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_ReactCountDown__WEBPACK_IMPORTED_MODULE_8__.a,{time:5,remainingTimePoints:[{point:2,callback:function callback(){return console.log("距离结束还有 2 秒钟")}}]})};RemainingTimePoints.displayName="RemainingTimePoints";var _ref3=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("br",null),_ref4=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("br",null),_ref5=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("br",null),InstanceProp=function(_React$Component2){function InstanceProp(){var _getPrototypeOf2,_this;_classCallCheck(this,InstanceProp);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(InstanceProp)).call.apply(_getPrototypeOf2,[this].concat(args)))),"getCountDownRef",function(node){_this.countDownRef=node}),_defineProperty(_assertThisInitialized(_this),"getUseTime",function(){alert(_this.countDownRef.useTime)}),_defineProperty(_assertThisInitialized(_this),"getTotalTime",function(){alert(_this.countDownRef.totalTime)}),_defineProperty(_assertThisInitialized(_this),"getRemainTime",function(){alert(_this.countDownRef.remainTime)}),_this}return _inherits(InstanceProp,react__WEBPACK_IMPORTED_MODULE_5___default.a.Component),_createClass(InstanceProp,[{key:"render",value:function render(){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_ReactCountDown__WEBPACK_IMPORTED_MODULE_8__.a,{time:600,ref:this.getCountDownRef}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{onClick:this.getUseTime},"查看用时（单位：秒）"),_ref3,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{onClick:this.getTotalTime},"查看总时间（单位：秒）"),_ref4,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button",{onClick:this.getRemainTime},"查看剩余时间（单位：秒）"),_ref5)}}]),InstanceProp}();InstanceProp.displayName="InstanceProp";var _ref6=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(Time,null),_ref7=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(OnEnd,null),_ref8=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(RemainingTimePoints,null),_ref9=react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(InstanceProp,null);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_6__.storiesOf)("ReactCountDown 倒计时",module).addDecorator(withStorySource("import React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport docs from './docs.md';\n\nimport ReactCountDown from '../ReactCountDown';\n\nclass ReactCountDownDemo extends React.Component {\n  render() {\n    const { time, onEnd, remainingTimePoints } = this.props;\n    return (\n      <div>\n        {time && <ReactCountDown time={10} />}\n        {onEnd && <ReactCountDown time={10} onEnd={alert('倒计时结束')} />}\n        {remainingTimePoints && (\n          <ReactCountDown\n            time={10}\n            remainingTimePoints={[\n              {\n                point: 5,\n                callback: () => console.log('距离结束还有 5 秒钟'),\n              },\n            ]}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nconst Time = () => {\n  return <ReactCountDown time={10} />;\n};\n\nconst OnEnd = () => {\n  return <ReactCountDown time={5} onEnd={() => alert('倒计时结束')} />;\n};\n\nconst RemainingTimePoints = () => {\n  return (\n    <ReactCountDown\n      time={5}\n      remainingTimePoints={[\n        {\n          point: 2,\n          callback: () => console.log('距离结束还有 2 秒钟'),\n        },\n      ]}\n    />\n  );\n};\n\nclass InstanceProp extends React.Component {\n  getCountDownRef = node => {\n    this.countDownRef = node;\n  };\n\n  getUseTime = () => {\n    alert(this.countDownRef.useTime);\n  };\n\n  getTotalTime = () => {\n    alert(this.countDownRef.totalTime);\n  };\n\n  getRemainTime = () => {\n    alert(this.countDownRef.remainTime);\n  };\n\n  render() {\n    return (\n      <div>\n        <ReactCountDown time={10 * 60} ref={this.getCountDownRef} />\n        <button onClick={this.getUseTime}>查看用时（单位：秒）</button>\n        <br />\n        <button onClick={this.getTotalTime}>查看总时间（单位：秒）</button>\n        <br />\n        <button onClick={this.getRemainTime}>查看剩余时间（单位：秒）</button>\n        <br />\n      </div>\n    );\n  }\n}\n\nstoriesOf('ReactCountDown 倒计时', module)\n  .add('time', () => <Time />, {\n    notes: {\n      markdown: docs,\n    },\n  })\n  .add('onEnd', () => <OnEnd />, {\n    notes: {\n      markdown: docs,\n    },\n  })\n  .add('remainingTimePoints', () => <RemainingTimePoints />, {\n    notes: {\n      markdown: docs,\n    },\n  })\n  .add('实例属性', () => <InstanceProp />, {\n    notes: {\n      markdown: docs,\n    },\n  });\n",__ADDS_MAP__)).add("time",function(){return _ref6},{notes:{markdown:_docs_md__WEBPACK_IMPORTED_MODULE_7___default.a}}).add("onEnd",function(){return _ref7},{notes:{markdown:_docs_md__WEBPACK_IMPORTED_MODULE_7___default.a}}).add("remainingTimePoints",function(){return _ref8},{notes:{markdown:_docs_md__WEBPACK_IMPORTED_MODULE_7___default.a}}).add("实例属性",function(){return _ref9},{notes:{markdown:_docs_md__WEBPACK_IMPORTED_MODULE_7___default.a}})}.call(this,__webpack_require__(112)(module))},45:function(module,exports){module.exports="# ReactCountDown\n\n## Example\n\n```javascript\n<ReactCountDown\n  time={10}\n  onEnd={() => alert('倒计时结束')}\n  remainingTimePoints={[\n    {\n      point: 5,\n      callback: () => console.log('距离结束还有 5 秒钟')\n    }\n  ]}\n/>\n```\n\n## props\n\n|        属性         |     类型     | 默认值 |          描述          |\n| :-----------------: | :----------: | :----: | :--------------------: |\n|        time         |   `number`   |   -    | 倒计时时间（单位：秒） |\n|        onEnd        | `function()` |   -    |   时间为 0 时的回调    |\n| remainingTimePoints |   `object`   |   -    | 剩余时间点回调（如下） |\n\n### remainingTimePoints\n\n|   属性   |     类型     | 默认值 |              描述              |\n| :------: | :----------: | :----: | :----------------------------: |\n|  point   |   `number`   |   -    | 距离倒计时的时间点（单位：秒） |\n| callback | `function()` |   -    |        在该时间点的回调        |\n\n## Instance property\n\n- totalTime: 总时间（单位：秒）\n- useTime: 用时（单位：秒）\n- remainTime: 剩余时间（单位：秒）\n\n```javascript\nclass InstanceProp extends React.Component {\n  getCountDownRef = node => {\n    this.countDownRef = node;\n  };\n\n  getUseTime = () => {\n    alert(this.countDownRef.useTime);\n  };\n\n  getTotalTime = () => {\n    alert(this.countDownRef.totalTime);\n  };\n\n  getRemainTime = () => {\n    alert(this.countDownRef.remainTime);\n  };\n\n  render() {\n    return (\n      <div>\n        <ReactCountDown time={10 * 60} ref={this.getCountDownRef} />\n        <button onClick={this.getUseTime}>查看用时（单位：秒）</button>\n        <br />\n        <button onClick={this.getTotalTime}>查看总时间（单位：秒）</button>\n        <br />\n        <button onClick={this.getRemainTime}>查看剩余时间（单位：秒）</button>\n        <br />\n      </div>\n    );\n  }\n}\n```\n"}},[[153,1,2]]]);
//# sourceMappingURL=main.a33c07fb2a43c48348aa.bundle.js.map